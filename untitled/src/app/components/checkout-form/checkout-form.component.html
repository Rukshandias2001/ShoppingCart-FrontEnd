<div class="container" >
  <button (click)="closeDialog()" class="absolute top-2 right-2 text-gray-400 hover:text-black">&times;</button>
  <h2>Checkout Form</h2>
  <form  [formGroup]="checkoutForm" (ngSubmit)="onSubmit()"  class="checkout-form">
    <div class="form-group">
      <label for="fname" >First Name</label>
      <input type="text" id="fname" name="firstName" formControlName="firstName" [disabled]="true" readonly>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('firstName')?.touched && checkoutForm.get('firstName')?.invalid" >
        First name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="lname">Last Name</label>
      <input type="text" id="lname" name="lastName"  formControlName="lastName" [disabled]="true" readonly>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('lastName')?.touched && checkoutForm.get('lastName')?.invalid">
        Last name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email"   formControlName="email" [disabled]="true" readonly>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('email')?.touched && checkoutForm.get('email')?.invalid">
        <span *ngIf="checkoutForm.get('email')?.errors?.['required']">Email is required.</span>
        <span *ngIf="checkoutForm.get('email')?.errors?.['email']">Invalid email address.</span>
      </div>
    </div>
    <div class="form-group">
      <label for="calender">Paid Date</label>
      <input type="Date" id="calender" name="date" formControlName = "date">

    </div>
    <div class="form-group">
      <label for="country">country</label>
      <select id="country" name="country" class="custom-select" formControlName="country" (change)="getStates($event)">
        <option  selected >Select</option>
        <option *ngFor="let country of listOfCountries" [value]="country.name"  id="{{country.id}}" >{{country.name}}</option>
      </select>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('country')?.touched && checkoutForm.get('country')?.invalid">
        Country is required.
      </div>
    </div>
    <div class="form-group">
      <label for="state">City</label>
      <select id="state" name="state" class="custom-select" formControlName="city" >
        <option  selected >Select</option>
        <option *ngFor="let city of listOfStates" [value]="city.name"  >{{city.name}}</option>
      </select>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('city')?.touched && checkoutForm.get('city')?.invalid">
        City is required.
      </div>
    </div>
    <div class="form-group">
      <label for="zip">Price</label>
      <input type="text" id="zip" name="price"  formControlName="price" [disabled]="true" readonly>
    </div>
    <div class="form-group">
      <label for="cardname">Name of Card</label>
      <select id="cardname" name="cardType" class="custom-select" formControlName ="cardType" >
        <option  selected >Select</option>
        <option *ngFor="let card of listOfCards"   [value]="card"  >{{card}}</option>
      </select>
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('cardType')?.touched && checkoutForm.get('cardType')?.invalid">
        CardType is required.
      </div>
    </div>
    <div class="form-group">
      <label for="creditCardNumber">Credit Card Number</label>
      <input type="text" id="creditCardNumber" name="cardNumber" formControlName="cardNumber" placeholder="1111-2222-3333-4444"  >
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('cardNumber')?.touched && checkoutForm.get('cardNumber')?.invalid">
        CardType is required.
      </div>
    </div>
    <div class="form-group">
      <label for="expDate">Exp Date</label>
      <input type="date" id="expDate" name="expiryDate"  formControlName="expiryDate" >
      <div class="text-red-500 text-sm error-message" *ngIf="checkoutForm.get('expiryDate')?.touched && checkoutForm.get('expiryDate')?.invalid">
        Expiry date is required.
      </div>
    </div>

    <button type="submit" class="btn" [disabled]="checkoutForm.invalid">Submit</button>
  </form>
</div>
